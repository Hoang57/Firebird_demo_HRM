<!-- Head -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="/static/style.css" />


<div class="sidebar" id="sidebar">
  <!-- Icons -->
  <i class="bi bi-people-fill nav-icon active" onclick="loadPage('index/employee')"></i>
  <i class="bi bi-speedometer2 nav-icon" onclick="loadPage('index/department')"></i>
  <i class="bi bi-table nav-icon" onclick="loadPage('index/timekeeping')"></i>
  <i class="bi bi-grid nav-icon" onclick="loadPage('index/contract')"></i>
  <i class="bi bi-person nav-icon" onclick="loadPage('index/employee_evaluation')"></i>
  <i class="bi bi-bar-chart-line nav-icon" onclick="loadPage('index/HR_statistics')"></i>

  <!-- User profile section -->
  <div class="user-section">
    <img src="/static/images/user-icon.png" alt="User Icon" class="user-icon" id="userDropdownBtn">
    <button class="user-dropdown-btn" id="userDropdownArrow">&#9662;</button>
  </div>

  <!-- Dropdown menu -->
  <div class="dropdown-menu" id="userDropdownMenu">
    <a href="#" onclick="loadPage('change_password')">Change Password</a>
    <a href="/">Logout</a>
  </div>
</div>

<div class="content">
  <iframe id="contentFrame" src=""></iframe>
</div>

<script>
  function loadPage(url) {
  document.getElementById('contentFrame').src = url;
  document.querySelectorAll('.nav-icon').forEach(icon => icon.classList.remove('active'));
  event.target.classList.add('active');

  }


  const userBtn = document.getElementById("userDropdownBtn");
  const userArrow = document.getElementById("userDropdownArrow");
  const dropdown = document.getElementById("userDropdownMenu");

  userBtn.addEventListener("click", toggleDropdown);
  userArrow.addEventListener("click", toggleDropdown);

  function toggleDropdown() {
    const isVisible = dropdown.style.display === "flex";
    dropdown.style.display = isVisible ? "none" : "flex";
  }

  document.addEventListener("click", (event) => {
    if (!userBtn.contains(event.target) && !userArrow.contains(event.target) && !dropdown.contains(event.target)) {
      dropdown.style.display = "none";
    }
  });
</script>
